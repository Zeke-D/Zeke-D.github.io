<style>
:root {
  --light-gray: #e5e5e5;
  --mid-gray: #D1D1D1;
  --dark-gray: #707070;  
  --neu-gold: #A4804A;
  --neu-red: #C8102E;
  --shadow: 0px 3px 10px rgba(0, 0, 0, .16);
}

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

.spacer {
  flex-grow: 1;
}

h3, span, p {
  cursor: default;
}

body {
  margin: 0;
  padding: 0;
  background: var(--light-gray);
  width: 100%;
  color: var(--dark-gray);
  text-transform: uppercase;
  font-family: "Bahnschrift", sans-serif;
  font-weight: 700;
  font-stretch: semi-condensed;
  font-size: 30pt;
  overflow: hidden;
}

#nav-icon {
  position: fixed;
  bottom: -10pt;
  /* left: 50%; */
  top: 50%;
  right: 30pt;
  /* transform: translateY(-50%);*/
  opacity: 0;
  /* opacity: .15; */
  font-size: 200pt;
  line-height: 200pt;
}

#nav-icon.uarr {
  /* transform: translate(-50%, -16px);  */
}

#name {  
  position: absolute;
  top: 50%;
  left: 50%;
  display: flex;
  flex-direction: column;
  align-items: center;
  font-size: 90pt;
  line-height: 70pt;
  width: max-content;
  font-stretch: condensed;
  transform: translate(-50%, calc(-50% - 380pt/2 - 10pt));
}

#name span {
  font-size: 20pt;
  line-height: 30pt;
  font-weight: 100;
  font-stretch: normal;
  letter-spacing: 20pt;
}

#contact {
  z-index: 0;
  padding: 50px 30px;
  background-color: #fff;
  position: fixed;
  top: 50%;
  left: 50%;
  height: 200px;
  aspect-ratio: 16 / 9;
  transform: translate(-50%, calc(-100% + 10pt + .5 * 380pt)) rotate(-5deg) scale(.95);
  transition: .3s transform ease-out;
  box-shadow: var(--shadow);
}

#contact:hover {
  transform: translate(-50%, calc(-100% + 10pt + .5 * 380pt)) rotate(-5deg);
  box-shadow: 0px 5px 20px rgba(0, 0, 0, .1);
  cursor: pointer;
}

#contact ul {
  display: flex;
  list-style: none;
  justify-content: space-between;
}

#contact ul li a {
  color: orange;
}


#projects article {
  z-index: 1;
  position: absolute;
  top: calc(50% - 380pt * .5);
  left: calc(50% - 380pt * 8 / 9 * .5);
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 40pt 30pt;
  background: #fff;
  aspect-ratio: 8/9;
  height: 380pt;
  border-radius: 12px;
  box-shadow: var(--shadow);
}

#projects article h3 {
  line-height: 30pt;
  text-align: center;
}

#projects article span {
  font-weight: 100;
  text-align: center;
  line-height: 20pt;
  letter-spacing: 3pt;
  font-size: 15pt;
  width: 100%;
  margin-top: .4rem;
}

#projects article p {
  font-family: "Courier New", serif;
  text-transform: none;
  font-weight: 100;
  font-size: 11pt;
  line-height: 14pt;
  width: 100%;
  margin: 2rem 0;
}

#projects article p ul li {
  margin-bottom: 4pt;
}

#projects article a {
  color: white;
  text-transform: uppercase;
  font-weight: 800;
  font-stretch: condensed;
  font-size: 2rem;
  text-decoration: none;
  padding: 5pt 10pt;
  background-color: #56d15c;
  box-shadow: 0px 4pt 0 #32a852;
  border-radius: 5pt;
  margin-bottom: 2rem;
}

#projects article ul.tags li {
  background-color: var(--light-gray);
  font-size: 20pt;
  color: white;
  list-decoration: none;
  display: inline-block;
  margin: 5pt 10pt 0 0;
  padding: 0 10pt;
}

#projects button.add-bookmark {
  /* 
  Honestly, sorta a superfluous button... may use later, for now: bye 
  
  position: absolute;
  right: 50px;
  padding: 3px;
  */
  display: none;
}

#projects .date {
  position: absolute;
  top: 10pt;
  right: 10pt;
}

#projects button.bookmark {
  position: absolute;
  bottom: -10px;
  display: block;
  opacity: 0%;
  height: 40px;
  width: 50px;
  border: none;
  background-color: #009ce5;
  box-shadow: 0px 2px 0px #008ac1, 0px 3px 6px rgba(0, 0, 0, .3);
  border-radius: 5px 5px 15px 15px ;
  cursor: pointer;
  transition: .2s ease-out bottom;
}

#projects button.bookmark:hover {
  bottom: -20px;
}

#projects article[data-bookmarked="true"]  button.bookmark{
  opacity: 100%;
}

#projects article .splash {
  position: absolute;
  display: block;
  left: 50%;
  top: 290px;
  width: 300px;
  background-color: var(--mid-gray);
  transform: translate(-50%, -50%);
  aspect-ratio: 3 / 2;
  border-radius: 12px;
  border: 10px solid #fff;
  box-shadow: var(--shadow);
}


#work {
  position: absolute;
  left: 0;
  top: 50%;
  transform: translate(-83%, -50%);
  text-align: right;
}

#work > h3 {
  transform: translate(20%);
}

#work article {
  position: relative;
  display: block;
  width: 330px;
  height: 200px;
  padding: 30pt;
  margin-bottom: -50pt;
  background: #fff;
  border-radius: 12px;
  border: 2pt solid var(--mid-gray);
  box-shadow: 0px 1pt 0 var(--mid-gray), var(--shadow);
  transition: .3s ease-in-out transform;
  cursor: pointer;
}

#work article:not(:first-child):hover {
  transform: translate(70%);
}

#work article h3 {
  font-size: 24pt;
  line-height: 20pt;
}

#work article span {
  display: block;
  font-weight: 400;
  line-height: 15pt;
  font-size: 12pt;
  margin: 0;
}

#work article .date {
  font-family: "Courier New", serif;
  font-style: oblique;
  font-stretch: normal;
  text-transform: none;
  font-weight: 200;
}

#education {
  position: fixed;
  top: 50%;
  left: 50%;
  z-index: 3;
  aspect-ratio: 3 / 2;
  width: 600px;
  transform: translate(calc(-25pt + 50vw), calc(-50%));
  padding: 50px 50px 20px 50px;
  border-radius: 10pt;
  background-color: white;
  box-shadow: var(--shadow);
  border: 20pt solid var(--neu-gold);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: space-between;
  cursor: pointer;
  transition: .3s ease-out transform, .3s ease-in-out box-shadow;
  transform-style: preserve-3d;
}

#education::before {
  content: 'â†’';
  font-size: 3rem;
  text-align: center;
  color: var(--neu-gold);
  line-height: 3.25rem;
  position: absolute;
  top: 50%;
  right: 0;
  display: block;
  aspect-ratio: 3 / 2;
  width: 80px;
  background-color: white;
  border: 2pt solid var(--neu-gold);
  box-shadow: var(--shadow);
  border-radius: 10pt 30pt 30pt 10pt;
  transform: translate(80%, -50%) translateZ(-1px);
}

#education:not(.focused):hover {
  box-shadow: 0px 10px 30px rgba(0, 0, 0, .4);
  transform: translate(calc(-50pt + 50vw), calc(-50%));
}

#education.focused {
  box-shadow: 0px 10px 30px rgba(0, 0, 0, .4);
  transform: translate(-50%, -50%);
}

#education p, #education span {
  font-size: 13pt;
  font-weight: 200;
  font-stretch: normal;
  text-transform: none;
}

#education .class {
  text-transform: uppercase;
  letter-spacing: 1.5rem;
  color: var(--neu-gold);
  margin-bottom: 2rem;
}
#education .honors {
  text-transform: uppercase;
  justify-self: end;
  letter-spacing: .2rem;
  font-size: 1rem;
  color: var(--neu-gold);
}

#education .degrees {
  display: grid;
  grid-template-columns: 1fr 1fr;
  align-items: start;
  grid-gap: 10pt;
}

#education .degrees span:nth-child(odd) {
  text-align: right;
  font-weight: 800;
}

#education .degrees span:nth-child(even) {
  font-family: "Courier New", serif;
}

#coffee-stain {
  position: fixed;
  top: 40svh;
  left: 50%;
  transform: translate(calc(-50% - 100pt), -50%);
  aspect-ratio: 1;
  width: 400px;
  mix-blend-mode: multiply;
  filter: grayscale(.5);
  opacity: .7;
}


</style>
<script src="projects.js" type="application/javascript"></script>
<script>

function debounce(fn, d) {
  let timer = 0;
  return (...args) => {
    if (Date.now() - timer > d) fn.apply(this, args);
    timer = Date.now();
  }
}

// t assumed within [0, 1]
function lerp(a, b, t) {
  return a + (b - a) * t
}

// animate to a window position in (x, y) px coords over duration millisecs
function animateToPosition(domEl, top, left, durationMs) {

  // STEP 1: Make positioning absolute
  let startPos = domEl.getBoundingClientRect()
  domEl.style.removeProperty("transform");
  domEl.style.setProperty("position", "absolute");
  domEl.style.setProperty("top", startPos.top);
  domEl.style.setProperty("left", startPos.left);

  top = top ?? startPos.top;
  left = left ?? startPos.left;
  
  // STEP 2: Animate
  let startTime = +(new Date());
  
  const step = () => {
    let curTime = +(new Date());
    if (curTime - startTime >= durationMs) {
      domEl.style.setProperty("top", top);  
      domEl.style.setProperty("left", left);  
      return;
    }
    // lerp between vals
    let progress = (curTime - startTime) / durationMs
    domEl.style.setProperty("top", lerp(startPos.top, top, progress));
    domEl.style.setProperty("left", lerp(startPos.left, left, progress));
    window.requestAnimationFrame(step);
  }
  window.requestAnimationFrame(step);
  
}

function dontBubble(event) {
  event.preventDefault()
  event.stopPropagation()
}

let articles = [];
let curArticleInd = 0;
window.onload = _ => {

  // init articles
  loadProjects();

  
  let pageStackMargin = 5;
  articles = Array.prototype.slice.call(document.querySelectorAll("#projects article"))
  curArticleInd = articles.length - 1;
  
  articles.forEach((domArticle, ind) => {
  
    domArticle.style.setProperty("margin-top", ind * -pageStackMargin + "px")
    let bounds = domArticle.getBoundingClientRect()
    
    domArticle.isDown = true;
    
    domArticle.slideUp = () => {
      animateToPosition(domArticle, -bounds.height + projects.length * 6, bounds.left, 300)
      domArticle.isDown = false;
    }
    
    domArticle.slideDown = () => {
      animateToPosition(domArticle, bounds.top + ind * pageStackMargin, bounds.left, 300)
      domArticle.isDown = true;
    }

    domArticle.bookmark = () => {
      // toggle bookmark
      domArticle.isBookmarked = !domArticle.isBookmarked;
      domArticle.setAttribute("data-bookmarked", domArticle.isBookmarked)
    }
    domArticle.bookmark()
    
    domArticle.onclick = _ => goToPageIndex(ind)
    let addBmBtn = domArticle.querySelector("button.add-bookmark")
    if (addBmBtn) {
      addBmBtn.onclick = e => {
        dontBubble(e)
        domArticle.bookmark()
      }
    }
    
    let bookmark = domArticle.querySelector("button.bookmark")
    if (bookmark) {
      bookmark.onclick = e => {
        dontBubble(e)
        if (ind == curArticleInd) return;
        goToPageIndex(ind)
      }
      let bookmarkWidth = bookmark.getBoundingClientRect().width
      let leftPos = 20 + (bookmarkWidth + 1) * (articles.length - 2 - ind) 
      bookmark.style.setProperty("left", leftPos + "px")
    }
  })

  let contact = document.querySelector("#contact");
  contact.onclick = () => {
    if (curArticleInd == -1) return;
    goToPageIndex(0);
    articles[0].slideUp();
    curArticleInd = -1;
    setIcon();
  }

  let diploma = document.querySelector("#education")
  diploma.onclick = () => {
    diploma.classList.toggle("focused");
  }
  
}

function setIcon() {
  // set the scroll-nav icon to the right thing
  let iconEl = document.querySelector("#nav-icon");
  iconEl.classList.remove('uarr');
  let icon; 
  if (curArticleInd == articles.length-1) { icon = "&darr;" } // down arrow
  else if (curArticleInd < 0)             { icon = "&uarr;";  // up arrow
                                            iconEl.classList.add('uarr') } // requires specific alignment
  else                                    { icon = "&varr;" } // vertical arrow
  iconEl.innerHTML = icon;
}
  

function goToPageIndex(ind) {
  let domArticle = articles[ind]
  
  // if it's the top page, go to next page
  if (ind == curArticleInd) {
    domArticle.slideUp()
    curArticleInd--;
    setIcon();
    return;
  }
  
  if (domArticle.isDown) {
    // animate to the clicked project, slide away top pages
    articles
      .slice(ind + 1, curArticleInd + 1)
      .forEach(otherArticle => otherArticle.slideUp())
  }
  else {
    // animate to clicked project, slide down to it
    articles
      .slice(curArticleInd + 1, ind + 1)
      .forEach(otherArticle => otherArticle.slideDown())
  }
  curArticleInd = ind;
  setIcon();
}

function onWheelHandler(e) {
  if (e.deltaY > 0 && curArticleInd >= 0) {
    // scroll down
    goToPageIndex(curArticleInd)
  }
  else if (e.deltaY < 0 && curArticleInd < articles.length - 1) {
    // scroll up
    goToPageIndex(curArticleInd + 1)
  }
}

window.onwheel = debounce(onWheelHandler, 50)

</script>
<body>
  <div id="name">
    <div>Ezekiel D'Ascoli</div>
    <!-- <span>Software Engineer</span> -->
  </div>
  <section id="education" class="">
    <h3>Northeastern University</h3>
    <span class="class">2018&mdash;2023</span>
    <div class="degrees">
      <span>Bachelor of Science</span>
      <span>Computer Science</span>
      <span>Concentration</span>
      <span>Human Centered Computing</span>
      <span>Minors</span>
      <span>Theatre, Interaction Design</span>
    </div>
    <div class="spacer"></div>
    <span class="honors"><i>Magna Cum Laude</i></span>
  </section>
  <section id="projects">
    <article>
      <h3>Projects</h3>
    </article>
  </section>
  <section id="work">
    <h3>Work</h3>
    <article>
      <h3>Smartleaf Inc.</h3>
      <span>Software Development Co-Op</span>
      <span class="date">Dec 2019&ndash;Aug 2020</span>
    </article>
    <article>
      <h3>Places For Less</h3>
      <span>Software Engineeringing Co-Op</span>
      <span class="date">Jan&ndash;Aug 2021</span>
    </article>
    <article>
      <h3>Verve Motion</h3>
      <span>Software Engineeringing Co-Op</span>
      <span class="date">July&ndash;Dec 2022</span>
    </article>
  </section>
  <section id="contact">
    <h3>Contact</h3>
    <ul>
      <li><a target="_" href='mailto:dascoli.e@northeastern.edu'>Email</a></li>
      <li><a target="_" href='https://www.linkedin.com/in/ezekiel-dascoli-2023/'>LinkedIn</a></li>
    </ul>
  </section>
  <h3 id="nav-icon">&darr;</h3>
  <img id="coffee-stain" src="../../imgs/coffee-stain.svg" alt="casualty of working"/>
</body>